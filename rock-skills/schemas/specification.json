{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Specification Schema",
  "description": "Schema for hierarchical specifications (tags/attributes) applied to base skills",
  "type": "object",
  "properties": {
    "specification_id": {
      "type": "string",
      "pattern": "^SPEC-[A-Z]+-[0-9]{3,}$",
      "description": "Unique identifier (e.g., SPEC-TEXT-001)"
    },
    "specification_type": {
      "type": "string",
      "enum": [
        "text_type",
        "text_mode",
        "text_genre",
        "complexity_band",
        "skill_domain",
        "support_level",
        "cognitive_demand",
        "scope",
        "quantity",
        "perspective_type"
      ],
      "description": "Type of specification"
    },
    "specification_category": {
      "type": "string",
      "enum": ["primary", "secondary", "tertiary"],
      "description": "Hierarchy level of specification"
    },
    "specification_level": {
      "type": "integer",
      "minimum": 1,
      "maximum": 3,
      "description": "Numeric hierarchy level (1=primary, 2=secondary, 3=tertiary)"
    },
    "parent_specification_id": {
      "type": ["string", "null"],
      "pattern": "^SPEC-[A-Z]+-[0-9]{3,}$",
      "description": "Parent specification if this is a child"
    },
    "specification_values": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "The specification value (e.g., 'fictional', 'informational')"
          },
          "value_description": {
            "type": "string",
            "description": "Detailed description of what this value means"
          },
          "child_specifications": {
            "type": "array",
            "items": {
              "type": "string",
              "pattern": "^SPEC-[A-Z]+-[0-9]{3,}$"
            },
            "description": "Child specification IDs"
          },
          "example_rock_skills": {
            "type": "array",
            "items": {"type": "string"},
            "description": "Example ROCK skills with this specification"
          }
        },
        "required": ["value", "value_description"]
      },
      "minItems": 1
    },
    "description": {
      "type": "string",
      "description": "Overall description of this specification type"
    },
    "usage_count": {
      "type": "integer",
      "minimum": 0,
      "description": "Number of ROCK skills using this specification"
    }
  },
  "required": [
    "specification_id",
    "specification_type",
    "specification_category",
    "specification_level",
    "specification_values"
  ]
}

